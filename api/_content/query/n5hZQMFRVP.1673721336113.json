{"_path":"/guide/create-scripts","_dir":"guide","_draft":false,"_partial":false,"_locale":"en-US","_empty":false,"title":"Create scripts","description":"Scripts are javascript code that run simples tasks using(or not) workspace files & collections.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"create-scripts"},"children":[{"type":"text","value":"Create scripts"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Scripts are javascript code that run simples tasks using(or not) workspace files & collections."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"They are very powerful but they can also be dangerous if you do not take care, so pay extra attention to the code you will execute in the app."}]},{"type":"element","tag":"alert","props":{"type":"danger"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Never run code from untrusted sources"}]}]},{"type":"element","tag":"h2","props":{"id":"creating-running-script"},"children":[{"type":"text","value":"Creating & Running script"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Go to entries page and click in the plus button to create a new file."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Select the file and press "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"F2"}]},{"type":"text","value":" to rename him to "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"my-script.ts"}]},{"type":"text","value":"."}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Any file in the workspace with the extname "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":".ts"}]},{"type":"text","value":" or "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":".js"}]},{"type":"text","value":" will be treated as a script by the app!"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"entires-script-file","src":"/entires.script-file.jpeg"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Open the file to access the editor and we can already write our script."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To execute the script just press the play button on top right of the page."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"script-editor","src":"/scripts.editor.jpeg"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Scrips have some "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"global variables"}]},{"type":"text","value":" like "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Workspace"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Facades"}]},{"type":"text","value":" to help you make the operations needed in the workspace."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Check the "},{"type":"element","tag":"a","props":{"href":"/scripts/global-scope"},"children":[{"type":"text","value":"script global scope"}]},{"type":"text","value":" to know more about"}]},{"type":"element","tag":"h2","props":{"id":"item-examples"},"children":[{"type":"text","value":"Item examples"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"// list items of a collection\n\nconst repository = await Facades.item\n    .createRepositoryFromWorkspace(Workspace, 'todos')\n\nconst items = await repository.list()\n\nsetResult(items)\n\n","filename":"List","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// list items of a collection\n\nconst repository = await Facades.item\n    .createRepositoryFromWorkspace(Workspace, 'todos')\n\nconst items = await repository.list()\n\nsetResult(items)\n\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"const repository = await Facades.item\n    .createRepositoryFromWorkspace(Workspace, 'todos')\n\nconst item = await repository.create({\n    name: 'New todo'\n})\n\nsetResult(item)\n","filename":"Create","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"const repository = await Facades.item\n    .createRepositoryFromWorkspace(Workspace, 'todos')\n\nconst item = await repository.create({\n    name: 'New todo'\n})\n\nsetResult(item)\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"const repository = await Facades.item\n    .createRepositoryFromWorkspace(Workspace, 'todos')\n\nconst items = []\n\nfor await (const i of Array.from(Array(10).keys())) {\n    items.push(await repository.create({\n        name: 'New todo ' + i\n    }))\n}\n\nsetResult(items)\n","filename":"Create multiple","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"const repository = await Facades.item\n    .createRepositoryFromWorkspace(Workspace, 'todos')\n\nconst items = []\n\nfor await (const i of Array.from(Array(10).keys())) {\n    items.push(await repository.create({\n        name: 'New todo ' + i\n    }))\n}\n\nsetResult(items)\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"// update items of a collection\n\nconst repository = await Facades.item\n    .createRepositoryFromWorkspace(Workspace, 'todos')\n\nconst items = await repository.list()\n\nfor await (const item of items) {\n\n    await repository.update(item.id, {\n        done: !item.done\n    })\n\n    console.log('updated: ', item.name)\n}\n\n","filename":"Update","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// update items of a collection\n\nconst repository = await Facades.item\n    .createRepositoryFromWorkspace(Workspace, 'todos')\n\nconst items = await repository.list()\n\nfor await (const item of items) {\n\n    await repository.update(item.id, {\n        done: !item.done\n    })\n\n    console.log('updated: ', item.name)\n}\n\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"drive-examples"},"children":[{"type":"text","value":"Drive examples"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"\n// read a file/folders in root workspace\n\nconst entries = await Drive.list('/')\n\nsetResult(entries)\n","filename":"List","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"\n// read a file/folders in root workspace\n\nconst entries = await Drive.list('/')\n\nsetResult(entries)\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"// read a file in root workspace\n\nconst bytes = await Drive.read('hello.md')\n\nconst text = bytes ? Entry.decode(bytes) : ''\n\nsetResult(text)\n","filename":"Read","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// read a file in root workspace\n\nconst bytes = await Drive.read('hello.md')\n\nconst text = bytes ? Entry.decode(bytes) : ''\n\nsetResult(text)\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"// write a file in root workspace\n\nawait Drive.write('hello.md', Entry.encode('# Hello word'))\n\nsetResult(\"Done\")\n","filename":"Write","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// write a file in root workspace\n\nawait Drive.write('hello.md', Entry.encode('# Hello word'))\n\nsetResult(\"Done\")\n"}]}]}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"create-scripts"},"children":[{"type":"text","value":"Create scripts"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Scripts are javascript code that run simples tasks using(or not) workspace files & collections."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"They are very powerful but they can also be dangerous if you do not take care, so pay extra attention to the code you will execute in the app."}]},{"type":"element","tag":"alert","props":{"type":"danger"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Never run code from untrusted sources"}]}]},{"type":"element","tag":"h2","props":{"id":"creating-running-script"},"children":[{"type":"text","value":"Creating & Running script"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Go to entries page and click in the plus button to create a new file."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Select the file and press "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"F2"}]},{"type":"text","value":" to rename him to "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"my-script.ts"}]},{"type":"text","value":"."}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Any file in the workspace with the extname "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":".ts"}]},{"type":"text","value":" or "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":".js"}]},{"type":"text","value":" will be treated as a script by the app!"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"entires-script-file","src":"/entires.script-file.jpeg"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Open the file to access the editor and we can already write our script."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To execute the script just press the play button on top right of the page."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"script-editor","src":"/scripts.editor.jpeg"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Scrips have some "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"global variables"}]},{"type":"text","value":" like "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Workspace"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Facades"}]},{"type":"text","value":" to help you make the operations needed in the workspace."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Check the "},{"type":"element","tag":"a","props":{"href":"/scripts/global-scope"},"children":[{"type":"text","value":"script global scope"}]},{"type":"text","value":" to know more about"}]},{"type":"element","tag":"h2","props":{"id":"item-examples"},"children":[{"type":"text","value":"Item examples"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"// list items of a collection\n\nconst repository = await Facades.item\n    .createRepositoryFromWorkspace(Workspace, 'todos')\n\nconst items = await repository.list()\n\nsetResult(items)\n\n","filename":"List","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-8337d1"},"children":[{"type":"text","value":"// list items of a collection"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d2679"},"children":[{"type":"text","value":"repository"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" Facades.item"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"createRepositoryFromWorkspace"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"(Workspace, "}]},{"type":"element","tag":"span","props":{"class":"ct-662b90"},"children":[{"type":"text","value":"'todos'"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d2679"},"children":[{"type":"text","value":"items"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" repository."}]},{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"list"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"setResult"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"(items)"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"const repository = await Facades.item\n    .createRepositoryFromWorkspace(Workspace, 'todos')\n\nconst item = await repository.create({\n    name: 'New todo'\n})\n\nsetResult(item)\n","filename":"Create","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d2679"},"children":[{"type":"text","value":"repository"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" Facades.item"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"createRepositoryFromWorkspace"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"(Workspace, "}]},{"type":"element","tag":"span","props":{"class":"ct-662b90"},"children":[{"type":"text","value":"'todos'"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d2679"},"children":[{"type":"text","value":"item"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" repository."}]},{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"create"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"    name: "}]},{"type":"element","tag":"span","props":{"class":"ct-662b90"},"children":[{"type":"text","value":"'New todo'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"})"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"setResult"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"(item)"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"const repository = await Facades.item\n    .createRepositoryFromWorkspace(Workspace, 'todos')\n\nconst items = []\n\nfor await (const i of Array.from(Array(10).keys())) {\n    items.push(await repository.create({\n        name: 'New todo ' + i\n    }))\n}\n\nsetResult(items)\n","filename":"Create multiple","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d2679"},"children":[{"type":"text","value":"repository"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" Facades.item"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"createRepositoryFromWorkspace"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"(Workspace, "}]},{"type":"element","tag":"span","props":{"class":"ct-662b90"},"children":[{"type":"text","value":"'todos'"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d2679"},"children":[{"type":"text","value":"items"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" []"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"for"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d2679"},"children":[{"type":"text","value":"i"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"of"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d2679"},"children":[{"type":"text","value":"Array"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-2d2679"},"children":[{"type":"text","value":"Array"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-2d2679"},"children":[{"type":"text","value":"10"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"keys"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"())) {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"    items."}]},{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"push"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" repository."}]},{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"create"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"        name: "}]},{"type":"element","tag":"span","props":{"class":"ct-662b90"},"children":[{"type":"text","value":"'New todo '"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" i"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"    }))"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"setResult"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"(items)"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"// update items of a collection\n\nconst repository = await Facades.item\n    .createRepositoryFromWorkspace(Workspace, 'todos')\n\nconst items = await repository.list()\n\nfor await (const item of items) {\n\n    await repository.update(item.id, {\n        done: !item.done\n    })\n\n    console.log('updated: ', item.name)\n}\n\n","filename":"Update","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-8337d1"},"children":[{"type":"text","value":"// update items of a collection"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d2679"},"children":[{"type":"text","value":"repository"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" Facades.item"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"createRepositoryFromWorkspace"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"(Workspace, "}]},{"type":"element","tag":"span","props":{"class":"ct-662b90"},"children":[{"type":"text","value":"'todos'"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d2679"},"children":[{"type":"text","value":"items"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" repository."}]},{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"list"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"for"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d2679"},"children":[{"type":"text","value":"item"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"of"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" items) {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" repository."}]},{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"update"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"(item.id, {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"        done: "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"item.done"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"    })"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"    console."}]},{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-662b90"},"children":[{"type":"text","value":"'updated: '"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":", item.name)"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"drive-examples"},"children":[{"type":"text","value":"Drive examples"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"\n// read a file/folders in root workspace\n\nconst entries = await Drive.list('/')\n\nsetResult(entries)\n","filename":"List","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-8337d1"},"children":[{"type":"text","value":"// read a file/folders in root workspace"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d2679"},"children":[{"type":"text","value":"entries"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" Drive."}]},{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"list"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-662b90"},"children":[{"type":"text","value":"'/'"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"setResult"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"(entries)"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"// read a file in root workspace\n\nconst bytes = await Drive.read('hello.md')\n\nconst text = bytes ? Entry.decode(bytes) : ''\n\nsetResult(text)\n","filename":"Read","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-8337d1"},"children":[{"type":"text","value":"// read a file in root workspace"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d2679"},"children":[{"type":"text","value":"bytes"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" Drive."}]},{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"read"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-662b90"},"children":[{"type":"text","value":"'hello.md'"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2d2679"},"children":[{"type":"text","value":"text"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" bytes "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"?"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" Entry."}]},{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"decode"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"(bytes) "}]},{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-662b90"},"children":[{"type":"text","value":"''"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"setResult"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"(text)"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"// write a file in root workspace\n\nawait Drive.write('hello.md', Entry.encode('# Hello word'))\n\nsetResult(\"Done\")\n","filename":"Write","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-8337d1"},"children":[{"type":"text","value":"// write a file in root workspace"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4ff641"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":" Drive."}]},{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"write"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-662b90"},"children":[{"type":"text","value":"'hello.md'"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":", Entry."}]},{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"encode"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-662b90"},"children":[{"type":"text","value":"'# Hello word'"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"))"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1fddb5"},"children":[{"type":"text","value":"setResult"}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-662b90"},"children":[{"type":"text","value":"\"Done\""}]},{"type":"element","tag":"span","props":{"class":"ct-dc7c42"},"children":[{"type":"text","value":")"}]}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-662b90{color:#0A3069}\n.ct-1fddb5{color:#8250DF}\n.ct-2d2679{color:#0550AE}\n.ct-dc7c42{color:#24292F}\n.ct-4ff641{color:#CF222E}\n.ct-8337d1{color:#6E7781}\n.dark .ct-8337d1{color:#8B949E}\n.dark .ct-4ff641{color:#FF7B72}\n.dark .ct-dc7c42{color:#C9D1D9}\n.dark .ct-2d2679{color:#79C0FF}\n.dark .ct-1fddb5{color:#D2A8FF}\n.dark .ct-662b90{color:#A5D6FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"creating-running-script","depth":2,"text":"Creating & Running script"},{"id":"item-examples","depth":2,"text":"Item examples"},{"id":"drive-examples","depth":2,"text":"Drive examples"}]}},"_type":"markdown","_id":"content:en-US:1.guide:2.create-scripts.md","_source":"content","_file":"en-US/1.guide/2.create-scripts.md","_extension":"md"}